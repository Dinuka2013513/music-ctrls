var htmlTempl=htmlTempl||{};htmlTempl.templates={"src/controllers/knob/knob.html":'<div tabindex="0" class="sisiliano" role="slider" aria-label="Ring Slider" aria-valuemax="100" aria-valuemin="0">\r\n    <svg\r\n            xmlns:osb="http://www.openswatchbook.org/uri/2009/osb"\r\n            xmlns:dc="http://purl.org/dc/elements/1.1/"\r\n            xmlns:cc="http://creativecommons.org/ns#"\r\n            xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\r\n            xmlns:svg="http://www.w3.org/2000/svg"\r\n            xmlns="http://www.w3.org/2000/svg"\r\n            xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\r\n            viewBox="0 0 300 300"\r\n            width="100%"\r\n            height="100%"\r\n            class="sisiliano-knob">\r\n        <defs\r\n                id="defs4">\r\n            <filter\r\n                    style="color-interpolation-filters:sRGB;"\r\n                    id="filter6244">\r\n                <feFlood\r\n                        flood-opacity="0.4"\r\n                        flood-color="black"\r\n                        result="flood"\r\n                        id="feFlood6246" />\r\n                <feComposite\r\n                        in="flood"\r\n                        in2="SourceGraphic"\r\n                        operator="in"\r\n                        result="composite1"\r\n                        id="feComposite6248" />\r\n                <feGaussianBlur\r\n                        in="composite1"\r\n                        stdDeviation="3"\r\n                        result="blur"\r\n                        id="feGaussianBlur6250" />\r\n                <feOffset\r\n                        dx="-1"\r\n                        dy="1"\r\n                        result="offset"\r\n                        id="feOffset6252" />\r\n                <feComposite\r\n                        in="SourceGraphic"\r\n                        in2="offset"\r\n                        operator="over"\r\n                        result="composite2"\r\n                        id="feComposite6254" />\r\n            </filter>\r\n            <filter\r\n                    style="color-interpolation-filters:sRGB;"\r\n                    id="filter6245">\r\n                <feFlood\r\n                        flood-opacity="0.5"\r\n                        flood-color="black"\r\n                        result="flood"\r\n                        id="feFlood6246" />\r\n                <feComposite\r\n                        in="flood"\r\n                        in2="SourceGraphic"\r\n                        operator="in"\r\n                        result="composite1"\r\n                        id="feComposite6248" />\r\n                <feGaussianBlur\r\n                        in="composite1"\r\n                        stdDeviation="3.5"\r\n                        result="blur"\r\n                        id="feGaussianBlur6250" />\r\n                <feOffset\r\n                        dx="2"\r\n                        dy="-2"\r\n                        result="offset"\r\n                        id="feOffset6252" />\r\n                <feComposite\r\n                        in="SourceGraphic"\r\n                        in2="offset"\r\n                        operator="over"\r\n                        result="composite2"\r\n                        id="feComposite6254" />\r\n            </filter>\r\n        </defs>\r\n\r\n        <style>\r\n            .sisiliano-knob-circle {\r\n                filter: url("#filter6244");\r\n            }\r\n            .sisiliano-border, .sisiliano:focus .sisiliano-knob-circle {\r\n                filter: url("#filter6245");\r\n            }\r\n        </style>\r\n\r\n        <g style="display:inline">\r\n            <circle\r\n                    class="sisiliano-border"\r\n                    r="147" cx="150"\r\n                    cy="150">\r\n            </circle>\r\n            <circle\r\n                    class="sisiliano-knob-circle sisiliano-knob-background-circle"\r\n                    id="circle5634"\r\n                    r="130"\r\n                    cx="150"\r\n                    cy="150"/>\r\n            <text xmlns="http://www.w3.org/2000/svg" x="40" y="170"\r\n                  role="alert" aria-live="assertive"\r\n                  class="unselectable sisiliano-knob-value-text">\r\n                100%\r\n            </text>\r\n            <circle\r\n                    class="sisiliano-knob-circle sisiliano-knob-value-circle"\r\n                    fill="transparent"\r\n                    id="circle5636"\r\n                    r="130"\r\n                    cx="150"\r\n                    cy="150"\r\n                    stroke-width="20"/>\r\n        </g>\r\n    </svg>\r\n</div>',"src/controllers/piano/piano.html":'<div tabindex="0" class="sisiliano" role="slider" aria-label="Piano" id="{{id}}">\r\n    <svg\r\n            xmlns:osb="http://www.openswatchbook.org/uri/2009/osb"\r\n            xmlns:dc="http://purl.org/dc/elements/1.1/"\r\n            xmlns:cc="http://creativecommons.org/ns#"\r\n            xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\r\n            xmlns:svg="http://www.w3.org/2000/svg"\r\n            xmlns="http://www.w3.org/2000/svg"\r\n            xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\r\n            class="sisiliano-piano"\r\n            width="100%"\r\n            height="100%"\r\n            viewBox="0 0 {{viewBox.width}} {{viewBox.height}}">\r\n        <defs\r\n                id="defs4">\r\n            <filter\r\n                    style="color-interpolation-filters:sRGB;"\r\n                    id="filter6244">\r\n                <feFlood\r\n                        flood-opacity="0.5"\r\n                        flood-color="black"\r\n                        result="flood"\r\n                        id="feFlood6246"/>\r\n                <feComposite\r\n                        in="flood"\r\n                        in2="SourceGraphic"\r\n                        operator="in"\r\n                        result="composite1"\r\n                        id="feComposite6248"/>\r\n                <feGaussianBlur\r\n                        in="composite1"\r\n                        stdDeviation="3"\r\n                        result="blur"\r\n                        id="feGaussianBlur6250"/>\r\n                <feOffset\r\n                        dx="0"\r\n                        dy="1"\r\n                        result="offset"\r\n                        id="feOffset6252"/>\r\n                <feComposite\r\n                        in="SourceGraphic"\r\n                        in2="offset"\r\n                        operator="over"\r\n                        result="composite2"\r\n                        id="feComposite6254"/>\r\n            </filter>\r\n            <filter\r\n                    style="color-interpolation-filters:sRGB;"\r\n                    id="filter6245">\r\n                <feFlood\r\n                        flood-opacity="0.5"\r\n                        flood-color="black"\r\n                        result="flood"\r\n                        id="feFlood6246"/>\r\n                <feComposite\r\n                        in="flood"\r\n                        in2="SourceGraphic"\r\n                        operator="in"\r\n                        result="composite1"\r\n                        id="feComposite6248"/>\r\n                <feGaussianBlur\r\n                        in="composite1"\r\n                        stdDeviation="8"\r\n                        result="blur"\r\n                        id="feGaussianBlur6250"/>\r\n                <feOffset\r\n                        dx="-3"\r\n                        dy="3.5"\r\n                        result="offset"\r\n                        id="feOffset6252"/>\r\n                <feComposite\r\n                        in="SourceGraphic"\r\n                        in2="offset"\r\n                        operator="over"\r\n                        result="composite2"\r\n                        id="feComposite6254"/>\r\n            </filter>\r\n            <filter\r\n                    style="color-interpolation-filters:sRGB;"\r\n                    id="filter6245">\r\n                <feFlood\r\n                        flood-opacity="0.5"\r\n                        flood-color="black"\r\n                        result="flood"\r\n                        id="feFlood6246"/>\r\n                <feComposite\r\n                        in="flood"\r\n                        in2="SourceGraphic"\r\n                        operator="in"\r\n                        result="composite1"\r\n                        id="feComposite6248"/>\r\n                <feGaussianBlur\r\n                        in="composite1"\r\n                        stdDeviation="3.5"\r\n                        result="blur"\r\n                        id="feGaussianBlur6250"/>\r\n                <feOffset\r\n                        dx="2"\r\n                        dy="-2"\r\n                        result="offset"\r\n                        id="feOffset6252"/>\r\n                <feComposite\r\n                        in="SourceGraphic"\r\n                        in2="offset"\r\n                        operator="over"\r\n                        result="composite2"\r\n                        id="feComposite6254"/>\r\n            </filter>\r\n        </defs>\r\n\r\n        <style>\r\n            /* These styles have been added seperately as a fix for firefox and IE */\r\n            #{{id}}.sisiliano .sisiliano-piano .sisiliano-piano-white-key {\r\n                filter: url(\'#filter6244\');\r\n            }\r\n\r\n            #{{id}}.sisiliano .sisiliano-piano .sisiliano-piano-black-key {\r\n                filter: url(\'#filter6244\');\r\n            }\r\n\r\n            #{{id}}.sisiliano-border {\r\n                filter: url("#filter6245");\r\n            }\r\n\r\n            #{{id}}.sisiliano .sisiliano-piano .sisiliano-piano-key-pressed,\r\n            #{{id}}.sisiliano .sisiliano-piano .sisiliano-piano-white-key:hover,\r\n            #{{id}}.sisiliano .sisiliano-piano .sisiliano-piano-black-key:hover,\r\n            #{{id}}.sisiliano .sisiliano-piano .sisiliano-piano-key-inactive:hover {\r\n                fill: {{color}};\r\n                stroke: {{color}};\r\n            }\r\n        </style>\r\n        <g style="display:inline">\r\n            <rect\r\n                    class="sisiliano-border"\r\n                    height="{{keyBoard.border.height}}"\r\n                    width="{{keyBoard.border.width}}"\r\n                    x="{{keyBoard.border.x}}"\r\n                    y="{{keyBoard.border.y}}"/>\r\n            {{#each keyBoard.whiteKeys}}\r\n            <rect\r\n                    index="{{index}}"\r\n                    class="sisiliano-piano-key sisiliano-piano-white-key"\r\n                    height="{{height}}"\r\n                    width="{{width}}"\r\n                    x="{{x}}"\r\n                    y="{{y}}"/>\r\n            {{/each}}\r\n            {{#each keyBoard.blackKeys}}\r\n            <rect\r\n                    index="{{index}}"\r\n                    class="sisiliano-piano-key sisiliano-piano-black-key"\r\n                    height="{{height}}"\r\n                    width="{{width}}"\r\n                    x="{{x}}"\r\n                    y="{{y}}"/>\r\n            {{/each}}\r\n        </g>\r\n\r\n        <!--<g style="display:inline">\r\n          <rect\r\n            class="sisiliano-piano-key sisiliano-piano-disabledArea"\r\n            height="{{disabledArea.left.height}}"\r\n            width="{{disabledArea.left.width}}"\r\n            x="{{disabledArea.left.x}}"\r\n            y="{{disabledArea.left.y}}" />\r\n          <rect\r\n            class="sisiliano-piano-key sisiliano-piano-disabledArea"\r\n            height="{{disabledArea.right.height}}"\r\n            width="{{disabledArea.right.width}}"\r\n            x="{{disabledArea.right.x}}"\r\n            y="{{disabledArea.right.y}}" />\r\n        </g>-->\r\n    </svg>\r\n</div>\r\n'},function(a){"use strict";a.registerNamespace("sisiliano"),sisiliano.templates=htmlTempl.templates,a.registerNamespace("sisiliano.util"),sisiliano.util.templateCache={},sisiliano.util.getTemplate=function(a,b){var c=sisiliano.util.templateCache[b];if(c)a(c);else{var d=htmlTempl.templates[b];c=Handlebars.compile(d),sisiliano.util.templateCache[b]=c,a(c)}},sisiliano.util.addClass=function(a,b){sisiliano.util.removeClass(a,b);var c=$(a).attr("class"),d=c+" "+b;$(a).attr("class",d)},sisiliano.util.removeClass=function(a,b){var c=$(a).attr("class"),d=c.replace(new RegExp(" "+b,"g"),"").replace(new RegExp(b,"g"),"");$(a).attr("class",d)},sisiliano.util.getAngle=function(a,b){var c=Math.atan(Math.abs((b.x-a.x)/(b.y-a.y)))/(2*Math.PI);return a.x>b.x?a.y>b.y&&(c=.5-c):(a.y<b.y&&(c=.5-c),c+=.5),c},sisiliano.util.isInsideTheCircle=function(a,b,c){var d=Math.sqrt(Math.pow(c.x-a.x,2)+Math.pow(c.y-a.y,2));return b>=d}}(fluid),function(a){"use strict";a.defaults("sisiliano.knob",{gradeNames:["fluid.viewComponent"],model:{color:"#009688",value:0,status:{isActive:!1}},selectors:{valueLabel:".sisiliano-knob-value-text",valueCircle:".sisiliano-knob-value-circle",knobBackgroundCircle:".sisiliano-knob-background-circle",borderCircle:"sisiliano-knob-circle sisiliano-knob-border-circle",circles:".sisiliano-knob-circle"},events:{onChange:null},listeners:{onCreate:{func:"sisiliano.knob.onCreate",args:["{that}"]}},modelListeners:{value:{func:"sisiliano.knob.onValueChange",args:["{that}","{that}.model.value"]},color:{func:"sisiliano.knob.onColorChange",args:["{that}","{that}.model.color"]},"status.isActive":{func:"sisiliano.knob.onStatusChange",args:["{that}","{that}.model.status.isActive"]}}}),sisiliano.knob.onStatusChange=function(a,b){var c="sisiliano-knob"+(b?" sisiliano-active":"");d3.select(a.container.get(0)).select(".sisiliano-knob").attr("class",c)},sisiliano.knob.onValueChange=function(a,b){if("number"!=typeof b)b=0,a.applier.change("value",b);else if(b>100)b=100,a.applier.change("value",b);else if(0>b)b=0,a.applier.change("value",b);else if(b=Math.round(b),a.model.value<=100&&a.model.value>=0){a.locate("valueLabel").text(b+"%");var c=a.model.circumference/100*(100-b)+"px";a.locate("valueCircle").attr("stroke-dashoffset",c)}},sisiliano.knob.onColorChange=function(a,b){a.locate("valueCircle").css("stroke",b),a.locate("knobBackgroundCircle").css("stroke",b),a.locate("valueCircle").css("fill",b),a.locate("knobBackgroundCircle").css("fill",b),a.locate("valueLabel").css("fill",b)},sisiliano.knob.initOptions=function(a,b,c){for(var d in b)void 0!==c[d]&&a.applier.change(d,c[d]);sisiliano.knob.onColorChange(a,a.model.color),sisiliano.knob.onValueChange(a,a.model.value)},sisiliano.knob.init=function(a){var b=parseInt(a.locate("knobBackgroundCircle").attr("r"),"");a.applier.change("radius",b),a.applier.change("circumference",2*a.model.radius*Math.PI),a.locate("circles").attr("stroke-dasharray",a.model.circumference+"px")},sisiliano.knob.onCreate=function(a){sisiliano.util.getTemplate(function(b){var c=b(a.model);a.container.html(c),sisiliano.knob.init(a),sisiliano.knob.initOptions(a,a.model,a.options),sisiliano.knob.addListeners(a)},"src/controllers/knob/knob.html")},sisiliano.knob.addListeners=function(a){d3.select(document).on("mouseup",function(){a.applier.change("status.isActive",!1)}).on("click",function(){a.applier.change("status.isActive",!1)}),d3.select(a.container.get(0)).on("keydown",function(){38===d3.event.keyCode?(a.applier.change("value",a.model.value+1),d3.event.preventDefault()):40===d3.event.keyCode&&(a.applier.change("value",a.model.value-1),d3.event.preventDefault())});var b=function(){var b=d3.mouse(a.container.find("svg").eq(0).get(0)),c={x:150,y:150},d=150,e={x:b[0],y:b[1]};if(a.model.status.isActive&&sisiliano.util.isInsideTheCircle(c,d,e)){var f=100*sisiliano.util.getAngle(c,e);a.model.value!==f&&(a.applier.change("value",f),d3.event.preventDefault())}},c=function(){a.applier.change("status.isActive",!0)},d=function(){a.applier.change("status.isActive",!1)};d3.select(a.container.get(0)).selectAll(".sisiliano-knob").on("mousedown",c).on("touchstart",c).on("mousemove",b).on("touchmove",b).on("mouseup",d).on("touchend",d).on("mouseleave",d)}}(fluid),function(a){"use strict";a.defaults("sisiliano.piano",{gradeNames:["fluid.viewComponent"],model:{color:"",keyBoard:{keys:[],length:36,start:0,whiteKey:{width:40,height:150},blackKey:{width:27,height:100},padding:{top:20,bottom:20,left:20,right:20},border:{x:0,y:0,width:600,height:170},borderPadding:{top:10,bottom:10,left:10,right:10}},viewBox:{width:600,height:170},activeArea:{start:0,end:10}},events:{onChange:null,onKeyPress:null,onKeyRelease:null},selectors:{root:".sisiliano",keyBoard:".key-board",whiteKeys:".white-key",blackKeys:".black-key",key:".key"},listeners:{onCreate:{func:"sisiliano.piano.onCreate",args:["{that}","{that}.dom.keyBoard"]}},modelListeners:{viewBox:{func:"sisiliano.piano.onChange",args:["{that}","{change}"]},"activeArea.end":{func:"sisiliano.piano.onChangeActiveArea",args:["{that}","{that}.model.keyBoard.keys","{that}.model.activeArea"]},"keyBoard.keys":{func:"sisiliano.piano.onKeysChange",args:["{that}","{that}.model.keyBoard.keys"]}}}),sisiliano.piano.onChange=function(){},sisiliano.piano.onChangeActiveArea=function(a,b,c){var d=[81,65,87,83,69,68,82,70,84,71,89,72,85,74,73,75,79,76,80,186,219,222,221],e=sisiliano.piano.getWhiteKeys(b);if(e.length>0){var f=e[c.start].index,g=e[c.end].index;if(f>0){var h=b[f-1];"BLACK"===h.color&&f--}if(g<b.length-1){var i=b[g+1];"BLACK"===i.color&&g++}for(var j=0,k=0;k<b.length;k++){var l=b[k];l.isActive=k>=f&&g>=k,l.isActive&&0===j&&"WHITE"===l.color&&j++,j>1&&"WHITE"===l.color&&"WHITE"===b[k-1].color&&j++,l.isActive?(l.keyCode=d[j],j++):l.keyCode=null}}sisiliano.piano.onKeysChange(a,b),sisiliano.piano.clearPressedNodes(a)},sisiliano.piano.onKeysChange=function(a,b){d3.select(a.container.get(0)).selectAll(".sisiliano-piano-key").each(function(){var c=sisiliano.piano.getElementKey(d3.select(this),b);sisiliano.piano.updateKey(a,c,d3.select(this))})},sisiliano.piano.getElementKey=function(a,b){return b[a.attr("index")]},sisiliano.piano.onCreate=function(a){sisiliano.piano.generateKeyboard(a),sisiliano.piano.refresh(a),sisiliano.piano.appendListeners(a)},sisiliano.piano.refresh=function(a){sisiliano.util.getTemplate(function(b){a.model.id="fluid-sisiliano-id-"+a.id,a.model.keyBoard.whiteKeys=sisiliano.piano.getWhiteKeys(a.model.keyBoard.keys),a.model.keyBoard.blackKeys=sisiliano.piano.getBlackKeys(a.model.keyBoard.keys);var c=b(a.model);a.container.html(c),sisiliano.piano.onChangeActiveArea(a,a.model.keyBoard.keys,a.model.activeArea)},"src/controllers/piano/piano.html")},sisiliano.piano.moveTabBy=function(a,b){if(b){var c={start:a.model.activeArea.start+b,end:a.model.activeArea.end+b},d=sisiliano.piano.getWhiteKeys(a.model.keyBoard.keys),e=c.start>=0&&c.start<d.length&&c.end>=0&&c.end<d.length&&c.start<c.end;e&&a.applier.change("activeArea",c)}},sisiliano.piano.clearPressedNodes=function(a){for(var b=0;b<a.model.keyBoard.keys.length;b++){var c=a.model.keyBoard.keys[b];c.isPressed=!1,sisiliano.piano.updateKey(a,c),sisiliano.piano.releaseKey(a,c)}},sisiliano.piano.appendListeners=function(a){var b=!1;d3.select(document).on("mouseup",function(){b=!1}),d3.select(a.container.get(0)).selectAll(".sisiliano-piano-key").on("mousedown",function(){b=!0;var c=d3.select(this).attr("index"),d=a.model.keyBoard.keys[c];b&&!d.isPressed&&(d.isPressed=!0,sisiliano.piano.updateKey(a,d),sisiliano.piano.playKey(a,d))}).on("mouseover",function(){var c=d3.select(this).attr("index"),d=a.model.keyBoard.keys[c];b&&!d.isPressed&&(d.isPressed=!0,sisiliano.piano.updateKey(a,d),sisiliano.piano.playKey(a,d))}).on("mouseup",function(){b=!1;var c=d3.select(this).attr("index"),d=a.model.keyBoard.keys[c];d.isPressed=!1,sisiliano.piano.updateKey(a,d),sisiliano.piano.releaseKey(a,d)}).on("mouseleave",function(){var b=d3.select(this).attr("index"),c=a.model.keyBoard.keys[b];c.isPressed=!1,sisiliano.piano.updateKey(a,c),sisiliano.piano.releaseKey(a,c)}),d3.select(a.container.get(0)).on("keydown",function(){var b=d3.event.keyCode,c=sisiliano.piano.getKeyByComputerKeyCode(b,a.model.keyBoard.keys);switch(c&&!c.isPressed&&(c.isPressed=!0,sisiliano.piano.updateKey(a,c),sisiliano.piano.playKey(a,c)),b){case 37:sisiliano.piano.moveTabBy(a,-1),d3.event.preventDefault();break;case 39:sisiliano.piano.moveTabBy(a,1),d3.event.preventDefault()}}),d3.select(a.container.get(0)).on("keyup",function(){var b=d3.event.keyCode,c=sisiliano.piano.getKeyByComputerKeyCode(b,a.model.keyBoard.keys);c&&(c.isPressed=!1,sisiliano.piano.updateKey(a,c),sisiliano.piano.releaseKey(a,c),d3.event.preventDefault())})},sisiliano.piano.playKey=function(a,b){a.events.onKeyPress.fire(b.index,sisiliano.piano.getFreequency(b.octave,b.octaveIndex))},sisiliano.piano.releaseKey=function(a,b){a.events.onKeyRelease.fire(b.index)},sisiliano.piano.updateKey=function(a,b,c){c||(c=a.container.find(".sisiliano-piano-key[index='"+b.index+"']"));var d=b.className;d+=b.isActive?" sisiliano-piano-key-active":" sisiliano-piano-key-inactive",d+=b.isPressed?" sisiliano-piano-key-pressed":"",c.attr("class",d)},sisiliano.piano.getKeyByComputerKeyCode=function(a,b){var c=b.filter(function(b){return b.keyCode===a});return 0===c.length?null:c[0]},sisiliano.piano.getKeysByColor=function(a,b){return a.filter(function(a){return a.color===b})},sisiliano.piano.getFreequency=function(a,b){var c=[261.626,277.183,293.665,311.127,329.628,349.228,369.994,391.995,415.305,440,466.164,493.883];return Math.pow(2,a)*c[b]},sisiliano.piano.OCTAVE={0:{color:"WHITE",note:"c"},1:{color:"BLACK",note:"c#"},2:{color:"WHITE",note:"d"},3:{color:"BLACK",note:"d#"},4:{color:"WHITE",note:"e"},5:{color:"WHITE",note:"f"},6:{color:"BLACK",note:"f#"},7:{color:"WHITE",note:"g"},8:{color:"BLACK",note:"g#"},9:{color:"WHITE",note:"a"},10:{color:"BLACK",note:"a#"},11:{color:"WHITE",note:"b"}},sisiliano.piano.getWhiteKeys=function(a){return sisiliano.piano.getKeysByColor(a,"WHITE")},sisiliano.piano.getBlackKeys=function(a){return sisiliano.piano.getKeysByColor(a,"BLACK")},sisiliano.piano.generateKeyboard=function(a){a.model.keyBoard.blackKey.width=(a.model.keyBoard.whiteKey.width-1)/3*2+1,a.model.keyBoard.blackKey.height=a.model.keyBoard.whiteKey.height/3*2,a.model.keyBoard.keys=[];for(var b={whiteKeys:0,blackKeys:0},c=0,d=a.model.keyBoard.start;d<a.model.keyBoard.length+a.model.keyBoard.start;d++,c++){var e,f=d%12;"WHITE"===sisiliano.piano.OCTAVE[f].color?(e={color:"WHITE",x:a.model.keyBoard.padding.left+b.whiteKeys*a.model.keyBoard.whiteKey.width,y:a.model.keyBoard.padding.top,width:a.model.keyBoard.whiteKey.width-1,height:a.model.keyBoard.whiteKey.height,index:c,octave:Math.floor(d/12),octaveIndex:f,className:"sisiliano-piano-key sisiliano-piano-white-key"},b.whiteKeys++):"BLACK"===sisiliano.piano.OCTAVE[f].color&&(e={color:"BLACK",x:a.model.keyBoard.padding.left+(b.whiteKeys-1)*a.model.keyBoard.whiteKey.width+a.model.keyBoard.whiteKey.width/3*2,y:a.model.keyBoard.padding.top,width:a.model.keyBoard.blackKey.width,height:a.model.keyBoard.blackKey.height,index:c,octave:Math.floor(d/12),octaveIndex:f,className:"sisiliano-piano-key sisiliano-piano-black-key"},b.blackKeys++),a.model.keyBoard.keys.push(e)}a.model.viewBox.width=b.whiteKeys*a.model.keyBoard.whiteKey.width+a.model.keyBoard.padding.left+a.model.keyBoard.padding.right,a.model.viewBox.height=a.model.keyBoard.whiteKey.height+a.model.keyBoard.padding.top+a.model.keyBoard.padding.bottom,a.model.keyBoard.border.width=b.whiteKeys*a.model.keyBoard.whiteKey.width+a.model.keyBoard.borderPadding.left+a.model.keyBoard.borderPadding.right,a.model.keyBoard.border.height=a.model.keyBoard.whiteKey.height+a.model.keyBoard.borderPadding.top+a.model.keyBoard.borderPadding.bottom,a.model.keyBoard.border.x=a.model.keyBoard.keys[0].x-a.model.keyBoard.borderPadding.left,a.model.keyBoard.border.y=a.model.keyBoard.keys[0].y-a.model.keyBoard.borderPadding.top,a.applier.change("",a.model)}}(fluid);