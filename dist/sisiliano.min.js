!function(a,b){var c=function(){function c(){return f.element=a(g),f.element.options=e,a(this).on("load.refresh",function(){e.accentColor&&a(f.element).find(".ctrl-circle-background").css("stroke",e.accentColor),e.coverColor&&a(f.element).find(".ctrl-circle-cover").css("stroke",e.coverColor),e.textColor&&a(f.element).find(".ctrl-circle-value").css("stroke",e.textColor),a(f.element).resize()}),a(b).on("resize",function(){console.log("resize");var b=a(f.element).height(),c=a(f.element).width(),d=Math.min(c,b),e=.21*d,g=d/5;radius=d/2-e/2,circumference=2*radius*Math.PI,a(f.element).find(".ctrl-circle").css("stroke-width",e+"px"),a(f.element).find(".ctrl-circle").attr("r",radius+"px"),a(f.element).find(".ringCtrl").css("width",d+"px"),a(f.element).find(".ringCtrl").css("height",d+"px"),a(f.element).find(".ctrl-circle-value").css("font-size",g+"px"),a(f.element).find(".ctrl-circle").attr("stroke-dasharray",circumference+"px"),a(f.element).keydown()}),a(f.element).on("load",function(){a(this).resize()}),a(f.element).on("keydown",function(b){38==b.keyCode&&f.value<100?f.value++:40==b.keyCode&&f.value>0&&f.value--,a(this).find(".ctrl-circle-value")[0].innerHTML=f.value+"%";var c=-(circumference/100)*f.value+"px";a(this).find(".ctrl-circle-cover").attr("stroke-dashoffset",c)}),f.element}var d=function(a){return c(),f.element},e={accentColor:"blue",coverColor:null,textColor:null},f={element:null,value:0,radius:1,circumference:null},g='<div class="sisiliano"><div class="ringCtrl" tabindex="0"><svg width="100%" height="100%"><circle class="ctrl-circle ctrl-circle-background" r="30%" cx="50%" cy="50%" fill="transparent" stroke-dasharray="0em" stroke-dashoffset="0em"></circle><circle class="ctrl-circle ctrl-circle-cover"      r="30%" cx="50%" cy="50%" fill="transparent" stroke-dasharray="0em" stroke-dashoffset="0"></circle></svg><div class="ctrl-circle-center"><i class="ctrl-circle-value"></i></div></div></div>';return d.prototype.getValue=function(){return a(f.element).find(".ctrl-circle-value")[0].innerHTML},d.prototype.setValue=function(b){f.value=b,a(f.element).find(".ctrl-circle-value")[0].innerHTML=b},d}();b.sisiliano={ringCtrl:c,xyPad:null,slider:null}}($,window),$(document).on("ready",function(){var circleHtml='<svg width="100%" height="100%" tabindex="0"><circle class="ctrl-circle ctrl-circle-background" r="30%" cx="50%" cy="50%" fill="transparent" stroke-dasharray="0em" stroke-dashoffset="0em"></circle><circle class="ctrl-circle ctrl-circle-cover"      r="30%" cx="50%" cy="50%" fill="transparent" stroke-dasharray="0em" stroke-dashoffset="0"></circle><text class="ctrl-circle-value" x="5em" y="5em">0%</text></svg>';$.fn.ctrlCircle=function(){this.html(circleHtml);var self=this,radius,circumference,value=0;$(window).on("resize",function(){console.log("resize");var height=$(self).height(),width=$(self).width(),strokeWidth=$(self).find(".ctrl-circle").css("stroke-width").replace("px","");try{strokeWidth=eval(strokeWidth)}catch(err){strokeWidth=30}radius=Math.min(width,height)/2-strokeWidth/2,circumference=2*radius*Math.PI,$(self).find(".ctrl-circle").attr("r",radius+"px"),$(self).find(".ctrl-circle").attr("stroke-dasharray",circumference+"px"),$(self).keydown()}),$(this).on("keydown",function(a){38==a.keyCode&&100>value?value++:40==a.keyCode&&value>0&&value--,$(this).find(".ctrl-circle-value")[0].innerHTML=value+"%";var b=-(circumference/100)*value+"px";document.querySelector(".ctrl-circle-cover").setAttribute("stroke-dashoffset",b)})}});